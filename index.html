<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Laravel 4 Generators for Bootstrap 3 by mamunhq</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Laravel 4 Generators for Bootstrap 3</h1>
      <h2 class="project-tagline">Rapidly speed up your Laravel 4 workflow with generators works to Bootstrap 3</h2>
      <a href="https://github.com/mamunhq/L4Generators" class="btn">View on GitHub</a>
      <a href="https://github.com/mamunhq/L4Generators/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/mamunhq/L4Generators/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to GitHub Pages.</h3>

<h2>
<a id="forked-from-jeffreywaylaravel-4-generators" class="anchor" href="#forked-from-jeffreywaylaravel-4-generators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Forked from JeffreyWay/Laravel-4-Generators.</h2>

<p>This package updates the views provided by Jeffrey Way's original works to Bootstrap 3. The original documentation from Way's works follows. The instructions have been updated to reflect any changes within this package.</p>

<p>This Laravel 4 package provides a variety of generators to speed up your development process. These generators include:</p>

<ul>
<li><code>generate:model</code></li>
<li><code>generate:controller</code></li>
<li><code>generate:seed</code></li>
<li><code>generate:view</code></li>
<li><code>generate:migration</code></li>
<li><code>generate:resource</code></li>
<li><code>generate:scaffold</code></li>
<li><code>generate:form</code></li>
<li><code>generate:test</code></li>
<li>
<code>generate:pivot</code> &lt;-- NEW!!</li>
</ul>

<h2>
<a id="prefer-a-video-walk-through" class="anchor" href="#prefer-a-video-walk-through" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prefer a Video Walk-through?</h2>

<p><a href="http://tutsplus.s3.amazonaws.com/tutspremium/courses_%24folder%24/WhatsNewInLaravel4/9-Generators.mp4">See here.</a></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Begin by installing this package through Composer. Edit your project's <code>composer.json</code> file to require <code>mamun/generators</code>.</p>

<pre><code>"require": {
    "laravel/framework": "4.0.*",
    "mamun/generators": "dev-master"
},
"minimum-stability" : "dev"
</code></pre>

<p>Next, update Composer from the Terminal:</p>

<pre><code>composer update
</code></pre>

<p>Once this operation completes, the final step is to add the service provider. Open <code>app/config/app.php</code>, and add a new item to the providers array.</p>

<pre><code>'Mamun\Generators\GeneratorsServiceProvider'
</code></pre>

<p>That's it! You're all set to go. Run the <code>artisan</code> command from the Terminal to see the new <code>generate</code> commands.</p>

<pre><code>php artisan
</code></pre>

<blockquote>
<p>There's also a <a href="http://net.tutsplus.com/tutorials/tools-and-tips/pro-workflow-in-laravel-and-sublime-text/">Sublime Text plugin available</a> to assist with the generators. Definitely use it, but not before you learn the syntax below.</p>
</blockquote>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Think of generators as an easy way to speed up your workflow. Rather than opening the models directory, creating a new file, saving it, and adding the class, you can simply run a single generate command.</p>

<ul>
<li><a href="#migrations">Migrations</a></li>
<li><a href="#models">Models</a></li>
<li><a href="#views">Views</a></li>
<li><a href="#seeds">Seeds</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#scaffolding">Scaffolding</a></li>
<li><a href="#forms">Forms</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#pivot-tables">Pivot Tables</a></li>
</ul>

<h3>
<a id="migrations" class="anchor" href="#migrations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Migrations</h3>

<p>Laravel 4 offers a migration generator, but it stops just short of creating the schema (or the fields for the table). Let's review a couple examples, using <code>generate:migration</code>.</p>

<pre><code>php artisan generate:migration create_posts_table
</code></pre>

<p>If we don't specify the <code>fields</code> option, the following file will be created within <code>app/database/migrations</code>.</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Illuminate\Database\Migrations\Migration</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">CreatePostsTable</span> <span class="pl-k">extends</span> <span class="pl-e">Migration</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Run the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">up</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>create(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$table</span>)</span>
<span class="pl-s1">      {</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>increments(<span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>timestamps();</span>
<span class="pl-s1">      });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Reverse the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">down</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>drop(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<p>Notice that the generator is smart enough to detect that you're trying to create a table. When naming your migrations, make them as description as possible. The migration generator will detect the first word in your migration name and do its best to determine how to proceed. As such, for <code>create_posts_table</code>, the keyword is "create," which means that we should prepare the necessary schema to create a table.</p>

<p>If you instead use a migration name along the lines of <code>add_user_id_to_posts_table</code>, in that case, the keyword is "add," signaling that we intend to add rows to an existing table. Let's see what that generates.</p>

<pre><code>php artisan generate:migration add_user_id_to_posts_table
</code></pre>

<p>This will prepare the following boilerplate:</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Illuminate\Database\Migrations\Migration</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">AddUserIdToPostsTable</span> <span class="pl-k">extends</span> <span class="pl-e">Migration</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Run the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">up</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>table(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$table</span>)</span>
<span class="pl-s1">      {</span>
<span class="pl-s1"></span>
<span class="pl-s1">      });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Reverse the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">down</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>table(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$table</span>)</span>
<span class="pl-s1">      {</span>
<span class="pl-s1"></span>
<span class="pl-s1">      });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<p>Notice how, this time, we're not doing <code>Schema::create</code>.</p>

<h4>
<a id="keywords" class="anchor" href="#keywords" aria-hidden="true"><span class="octicon octicon-link"></span></a>Keywords</h4>

<p>When writing migration names, use the following keywords to provide hints for the generator.</p>

<ul>
<li>
<code>create</code> or <code>make</code> (<code>create_users_table</code>)</li>
<li>
<code>add</code> or <code>insert</code> (<code>add_user_id_to_posts_table</code>)</li>
<li>
<code>remove</code> or <code>drop</code> or <code>delete</code> (<code>remove_user_id_from_posts_table</code>)</li>
</ul>

<h4>
<a id="generating-schema" class="anchor" href="#generating-schema" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generating Schema</h4>

<p>This is pretty nice, but let's take things a step further and also generate the schema, using the <code>fields</code> option.</p>

<pre><code>php artisan generate:migration create_posts_table --fields="title:string, body:text"
</code></pre>

<p>Before we decipher this new option, let's see the output:</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Illuminate\Database\Migrations\Migration</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">CreatePostsTable</span> <span class="pl-k">extends</span> <span class="pl-e">Migration</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Run the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">up</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>create(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$table</span>)</span>
<span class="pl-s1">      {</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>increments(<span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>string(<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>text(<span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>timestamps();</span>
<span class="pl-s1">      });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Reverse the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">down</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>drop(<span class="pl-s"><span class="pl-pds">'</span>posts<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<p>Nice! A few things to notice here:</p>

<ul>
<li>The generator will automatically set the <code>id</code> as the primary key.</li>
<li>It also will add the timestamps, as that's more common than not.</li>
<li>It parsed the <code>fields</code> options, and added those fields.</li>
<li>The drop method is smart enough to realize that, in reverse, the table should be dropped entirely.</li>
</ul>

<p>To declare fields, use a comma-separated list of key:value:option sets, where <code>key</code> is the name of the field, <code>value</code> is the <a href="http://four.laravel.com/docs/schema#adding-columns">column type</a>, and <code>option</code> is a way to specify indexes and such, like <code>unique</code> or <code>nullable</code>. Here are some examples:</p>

<ul>
<li><code>--fields="first:string, last:string"</code></li>
<li><code>--fields="age:integer, yob:date"</code></li>
<li><code>--fields="username:string:unique, age:integer:nullable"</code></li>
<li><code>--fields="name:string:default('John'), email:string:unique:nullable"</code></li>
<li><code>--fields="username:string[30]:unique, age:integer:nullable"</code></li>
</ul>

<p>Please make note of the last example, where we specify a character limit: <code>string[30]</code>. This will produce <code>$table-&gt;string('username', 30)-&gt;unique();</code></p>

<p>It is possible to destroy the table by issuing:</p>

<pre><code>php artisan generate:migration destroy_posts_table
</code></pre>

<p>If you'd like to have an accurate artisan rollback option set the <code>fields</code> option as well:</p>

<pre><code>php artisan generate:migration destroy_posts_table --fields="title:string, body:text"
</code></pre>

<p>As a final demonstration, let's run a migration to remove the <code>completed</code> field from a <code>tasks</code> table.</p>

<pre><code>php artisan generate:migration remove_completed_from_tasks_table --fields="completed:boolean"
</code></pre>

<p>This time, as we're using the "remove" keyword, the generator understands that it should drop a column, and add it back in the <code>down()</code> method.</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Illuminate\Database\Migrations\Migration</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">RemoveCompletedFromTasksTable</span> <span class="pl-k">extends</span> <span class="pl-e">Migration</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Run the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">up</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>table(<span class="pl-s"><span class="pl-pds">'</span>tasks<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$table</span>)</span>
<span class="pl-s1">      {</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>dropColumn(<span class="pl-s"><span class="pl-pds">'</span>completed<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">      });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Reverse the migrations.</span></span>
<span class="pl-s1"><span class="pl-c">     *</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> void</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">down</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">      <span class="pl-c1">Schema</span><span class="pl-k">::</span>table(<span class="pl-s"><span class="pl-pds">'</span>tasks<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$table</span>)</span>
<span class="pl-s1">      {</span>
<span class="pl-s1">        <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>boolean(<span class="pl-s"><span class="pl-pds">'</span>completed<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">      });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<h3>
<a id="models" class="anchor" href="#models" aria-hidden="true"><span class="octicon octicon-link"></span></a>Models</h3>

<pre><code>php artisan generate:model Post
</code></pre>

<p>This will create the file, <code>app/models/Post.php</code> and insert the following boilerplate:</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">Post</span> <span class="pl-k">extends</span> <span class="pl-e">Eloquent</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<h3>
<a id="views" class="anchor" href="#views" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views</h3>

<pre><code>php artisan generate:view dog
</code></pre>

<p>This command will generate <code>app/views/dog.blade.php</code> and a simple string, for convenience.</p>

<pre><code>The dog.blade.php view.
</code></pre>

<p>As with all of the commands, you may specify a <code>--path</code> option to place this file elsewhere.</p>

<pre><code>php artisan generate:view index --path=views/dogs
</code></pre>

<p>Now, we get: <code>app/views/dogs/index.blade.php</code>.</p>

<h3>
<a id="seeds" class="anchor" href="#seeds" aria-hidden="true"><span class="octicon octicon-link"></span></a>Seeds</h3>

<p>Laravel 4 provides us with a flexible way to seed new tables.</p>

<pre><code>php artisan generate:seed dogs
</code></pre>

<p>Set the argument to the name of the table that you'd like a seed file for. This will generate <code>app/database/seeds/DogsTableSeeder.php</code> and populate it with:</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">DogsTableSeeder</span> <span class="pl-k">extends</span> <span class="pl-e">Seeder</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">run</span>()</span>
<span class="pl-s1">  {</span>
<span class="pl-s1">    <span class="pl-smi">$dogs</span> <span class="pl-k">=</span> [</span>
<span class="pl-s1"></span>
<span class="pl-s1">    ];</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c1">DB</span><span class="pl-k">::</span>table(<span class="pl-s"><span class="pl-pds">'</span>Dogs<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>insert(<span class="pl-smi">$dogs</span>);</span>
<span class="pl-s1">  }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<p>This command will also update <code>app/database/seeds/DatabaseSeeder.php</code> to include a call to this new seed class, as required by Laravel.</p>

<p>To fully seed the <code>dogs</code> table:</p>

<ul>
<li>Within the <code>$dogs</code> array, add any number of arrays, containing the necessary rows.</li>
<li>Return to the Terminal and run Laravel's <code>db:seed command</code> (<code>php artisan db:seed</code>).</li>
</ul>

<h3>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h3>

<p>Think of the resource generator as the big enchilada. It calls all of its sibling generate commands. Assuming the following command:</p>

<pre><code>php artisan generate:resource dog --fields="name:string"
</code></pre>

<p>The following actions will take place:</p>

<ul>
<li>Creates a <code>create_dogs_table</code> migration, with a name column.</li>
<li>Creates a <code>Dog.php</code> model.</li>
<li>Creates a <code>views/dogs</code> folder, containing the <code>index</code>, <code>show</code>, <code>create</code>, and <code>edit</code> views.</li>
<li>Creates a <code>database/seeds/DogsTableSeeder.php</code> seed file.</li>
<li>Updates <code>DatabaseSeeder.php</code> to run <code>DogsTableSeeder</code>
</li>
<li>Creates <code>controllers/DogsController.php</code>, and fills it with restful methods.</li>
<li>Updates <code>routes.php</code> to include: <code>Route::resource('dogs', 'DogsController')</code>.</li>
<li>Creates a <code>tests/controllers/DogsControllerTest.php</code> file, and fills it with some boilerplate tests to get you started.</li>
</ul>

<blockquote>
<p>Please note that the resource name is singular - the same as how you would name your model.</p>
</blockquote>

<h4>
<a id="workflow" class="anchor" href="#workflow" aria-hidden="true"><span class="octicon octicon-link"></span></a>Workflow</h4>

<p>Let's create a resource for displaying dogs in a restful way.</p>

<pre><code>php artisan generate:resource dog --fields="name:string, age:integer"
</code></pre>

<p>Next, we'll seed this new <code>dogs</code> table. Open <code>database/seeds/DogsTableSeeder.php</code> and add a couple of rows. Remember, you only need to edit the <code>$dogs</code> array within this file.</p>

<pre><code>$dogs = [
    ['name' =&gt; 'Sparky', 'age' =&gt; 5],
    ['name' =&gt; 'Joe', 'age' =&gt; 11]
];
</code></pre>

<p>Now, we migrate the database and seed the <code>dogs</code> table.</p>

<pre><code>php artisan migrate
php artisan db:seed
</code></pre>

<p>Finally, let's display these two dogs, when accessing the <code>dogs/</code> route. Edit <code>controllers/DogsController.php</code>, and update the <code>index</code> method, like so:</p>

<pre><code>public function index()
{
    return View::make('dogs.index')
        -&gt;with('dogs', Dog::all());
}
</code></pre>

<p>The last step is to update the view to display each of the posts that was passed to it. Open <code>views/dogs/index.blade.php</code> and add:</p>

<pre><code>&lt;ul&gt;
    @foreach($dogs as $dog)
        &lt;li&gt;{{ $dog-&gt;name }} : {{ $dog-&gt;age }}&lt;/li&gt;
    @endforeach
&lt;/ul&gt;
</code></pre>

<p>Okay, okay, we're not using a layout file with the proper HTML. Who cares; this is just an example, fool.</p>

<p>Anyhow, we're all set. Run the server, and browse to <code>localhost:8000/dogs</code> to view your list.</p>

<pre><code>php artisan serve
</code></pre>

<ul>
<li>Sparky : 5</li>
<li>Joe : 11</li>
</ul>

<p>Isn't that way faster than manually doing all of that writing? To finish up, let's run the tests to make sure that everything is working, as expected.</p>

<pre><code>phpunit
</code></pre>

<p>And...it's green!</p>

<h3>
<a id="scaffolding" class="anchor" href="#scaffolding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scaffolding</h3>

<p><img src="https://dl.dropboxusercontent.com/u/774859/GitHub-Repos/scaffold-example.png" alt="scaffolding"></p>

<p>Think of scaffolding as an extension of a resource. It has the exact same interface.</p>

<div class="highlight highlight-bash"><pre>php artisan generate:scaffold tweet --fields=<span class="pl-s"><span class="pl-pds">"</span>author:string, body:text<span class="pl-pds">"</span></span></pre></div>

<p>The only difference is that it will handle all of the boilerplate. This can be particularly useful for prototyping - or even learning how to do basic things, such as delete a record from a database table, or build a form, or perform validation on that form.</p>

<p><img src="https://dl.dropboxusercontent.com/u/774859/GitHub-Repos/scaffold-view.png" alt="view scaffold"></p>

<p><img src="https://dl.dropboxusercontent.com/u/774859/GitHub-Repos/scaffold-validation.png" alt="view validation"></p>

<h3>
<a id="forms" class="anchor" href="#forms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Forms</h3>

<p>This handy new generator allows you to, with a single command, generate the necessary HTML for a form, based on attributes from a provided model. Perhaps an example is in order:</p>

<div class="highlight highlight-bash"><pre>php artisan generate:form tweet</pre></div>

<p>Assuming that I do have a <code>Tweet</code> model and its associated <code>tweet</code> table, this command will output:</p>

<div class="highlight highlight-html"><pre>{{ Form::open(array('route' =&gt; 'tweets.store')) }}
    &lt;<span class="pl-ent">ul</span>&gt;
        &lt;<span class="pl-ent">li</span>&gt;
            {{ Form::label('author', 'Author:') }}
            {{ Form::text('author') }}
        &lt;/<span class="pl-ent">li</span>&gt;

        &lt;<span class="pl-ent">li</span>&gt;
            {{ Form::label('body', 'Body:') }}
            {{ Form::textarea('body') }}
        &lt;/<span class="pl-ent">li</span>&gt;

        &lt;<span class="pl-ent">li</span>&gt;
            {{ Form::submit() }}
        &lt;/<span class="pl-ent">li</span>&gt;
    &lt;/<span class="pl-ent">ul</span>&gt;
{{ Form::close() }}</pre></div>

<p>Pretty neat, huh? It read the attributes and data types, and prepared the markup for you! One less thing to worry about!</p>

<h4>
<a id="specifying-the-forms-method" class="anchor" href="#specifying-the-forms-method" aria-hidden="true"><span class="octicon octicon-link"></span></a>Specifying the Form's Method</h4>

<p>But what if you intend to update a resource, rather than create a new one? Well, in that case, use the <code>--method</code> option.</p>

<div class="highlight highlight-bash"><pre>php artisan generate:form tweet --method=<span class="pl-s"><span class="pl-pds">"</span>update<span class="pl-pds">"</span></span></pre></div>

<p>This will mostly generate the same HTML, however, the <code>Form::open()</code> method will be adjusted, as needed:</p>

<div class="highlight highlight-php"><pre><span class="pl-s1">{{ <span class="pl-c1">Form</span><span class="pl-k">::</span>open(<span class="pl-c1">array</span>(<span class="pl-s"><span class="pl-pds">'</span>method<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>PATCH<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>route<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>tweets.update<span class="pl-pds">'</span></span>)) }}</span></pre></div>

<p>The method option will accept any number of values (<em>add, edit, update, post, create, etc.</em>), but, essentially, you're just telling it whether you are creating or editing a resource. As such, there's only two possible outputs: <code>POST</code> and <code>PATCH</code> (the former being the default).</p>

<h4>
<a id="custom-html" class="anchor" href="#custom-html" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom HTML</h4>

<p>What if you don't like the idea of using an unordered list for a form? Use the <code>--html</code> option, along with the name of the element that you'd prefer to use:</p>

<div class="highlight highlight-bash"><pre>php artisan generate:form tweet --html=<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span></pre></div>

<p>Now, the generator we'll present the elements within <code>div</code>s!</p>

<div class="highlight highlight-html"><pre>{{ Form::open(array('route' =&gt; 'tweets.store')) }}
    &lt;<span class="pl-ent">div</span>&gt;
        {{ Form::label('author', 'Author:') }}
        {{ Form::text('author') }}
    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span>&gt;
        {{ Form::label('body', 'Body:') }}
        {{ Form::textarea('body') }}
    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span>&gt;
        {{ Form::submit() }}
    &lt;/<span class="pl-ent">div</span>&gt;
{{ Form::close() }}</pre></div>

<h4>
<a id="copying-and-saving" class="anchor" href="#copying-and-saving" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copying and Saving</h4>

<p>At least for now, and unlike the other generators in this package, this command will output the form, at which point you can copy and paste it where needed. Of course, you can always pipe the output to the clipboard or save to a file, using existing tools. For instance:</p>

<div class="highlight highlight-bash"><pre><span class="pl-c"># copy the output to the clipboard</span>
php artisan generate:form tweet <span class="pl-k">|</span> pbcopy

<span class="pl-c"># save it to a form partial</span>
php artisan generate:form tweet <span class="pl-k">&gt;</span> app/views/posts/form.blade.php</pre></div>

<h3>
<a id="tests" class="anchor" href="#tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tests</h3>

<p>Use <code>generate:test</code> when you need to create a new PHPUnit test class. Here's an example:</p>

<div class="highlight highlight-bash"><pre>php artisan generate:<span class="pl-c1">test</span> FooTest</pre></div>

<p>This will produce <code>app/tests/FooTest.php</code>.</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">FooTest</span> <span class="pl-k">extends</span> <span class="pl-e">TestCase</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">test</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1"></span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<h3>
<a id="pivot-tables" class="anchor" href="#pivot-tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pivot Tables</h3>

<p>Creating joinable/pivot tables can sometimes be confusing.</p>

<ul>
<li>Should the table names be plural?</li>
<li>In what order do we write the table names to make Laravel happy?</li>
<li>What fields should be in the pivot table?</li>
</ul>

<p>This process can be automated now. Simply call the <code>generate:pivot</code>
command, and provide the names of the tables that should be joinable.
For example, a post can have many tags, and a tag can have many posts.
Run the following command to create the necessary pivot table.</p>

<div class="highlight highlight-bash"><pre>php artisan generate:pivot posts tags</pre></div>

<p>It doesn't matter which order you provide the table names (or whether
you pluralize them or not). The command will correctly create a
<code>post_tag</code> migration that has <code>post_id</code> and <code>tag_id</code> fields.</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">Schema</span><span class="pl-k">::</span>create(<span class="pl-s"><span class="pl-pds">'</span>post_tag<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-c1">Blueprint</span> <span class="pl-smi">$table</span>) {</span>
<span class="pl-s1">    <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>integer(<span class="pl-s"><span class="pl-pds">'</span>post_id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">    <span class="pl-smi">$table</span><span class="pl-k">-&gt;</span>integer(<span class="pl-s"><span class="pl-pds">'</span>tag_id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">});</span></pre></div>

<p>Finally, simply migrate the database to create it.</p>

<div class="highlight highlight-bash"><pre>php artisan migrate</pre></div>

<p>Pivot table finished!</p>

<p>To put it all together, let's do it from scratch. We need a posts table,
a tags table, and the connecting pivot table for the two. We can tackle
this easily with the generators.</p>

<div class="highlight highlight-bash"><pre>php artisan generate:migration create_posts_table --fields=<span class="pl-s"><span class="pl-pds">"</span>title:string, description:text<span class="pl-pds">"</span></span>

php artisan generate:migration create_tags_table --fields=<span class="pl-s"><span class="pl-pds">"</span>name:string<span class="pl-pds">"</span></span>

php artisan generate:pivot posts tags</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/mamunhq/L4Generators">Laravel 4 Generators for Bootstrap 3</a> is maintained by <a href="https://github.com/mamunhq">mamunhq</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

